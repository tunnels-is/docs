---
title: General
description: General tunnel interface settings
---

Configure the core settings for your tunnel interfaces including identification, IP addressing, performance, encryption, and connection behavior.

---

# Interface Identification

Basic identifiers for the tunnel interface.

### Configuration

```json
{
  "Tag": "tunnels",
  "IFName": "tunnels",
  "ServerID": "68320c5943239f6fd6da5cba"
}
```

**Fields**:

| Field | Type | Description | Default |
|-------|------|-------------|---------|
| `Tag` | string | Unique identifier for the tunnel | Auto-generated 8-char string |
| `IFName` | string | Network interface name | Same as `Tag` |
| `ServerID` | string | MongoDB ObjectID of VPN server to connect to | Empty string |

### Example

```json
{
  "Tag": "office",
  "IFName": "office",
  "ServerID": "68320c5943239f6fd6da5cba"
}
```

---

# IP Address Configuration

Configure IPv4 and IPv6 addresses for the tunnel interface.

### Configuration

```json
{
  "IPv4Address": "172.22.22.1",
  "IPv6Address": "fd00:1234:5678::1",
  "NetMask": "255.255.255.255"
}
```

**Fields**:

| Field | Type | Description | Default |
|-------|------|-------------|---------|
| `IPv4Address` | string | IPv4 address for tunnel | `"172.22.22.1"` |
| `IPv6Address` | string | IPv6 address for tunnel (optional) | Auto-generated in `fd00::/8` |
| `NetMask` | string | Network mask for IPv4 | `"255.255.255.255"` |

### Example: Custom IP Range

```json
{
  "IPv4Address": "10.0.0.1",
  "IPv6Address": "fd00:abcd:1234::1",
  "NetMask": "255.255.255.0"
}
```

---

# Performance Settings

Configure MTU and transmit queue length for network performance.

### Configuration

```json
{
  "MTU": 1420,
  "TxQueueLen": 2000
}
```

**Fields**:

| Field | Type | Description | Default | IoT Default |
|-------|------|-------------|---------|-------------|
| `MTU` | int32 | Maximum Transmission Unit (bytes) | `1420` | `1320` |
| `TxQueueLen` | int32 | Transmit queue length | `2000` | `2000` |

**MTU Guidelines**:

```md
- Standard networks: `1420` bytes
- 5G/mobile networks: `1320` bytes (IoT tunnels)
- Valid range: `1280-1500` bytes
```

### Example: IoT/Mobile Configuration

```json
{
  "MTU": 1320,
  "TxQueueLen": 2000
}
```

---

# Encryption

Configure the encryption algorithm for tunnel traffic.

### Configuration

```json
{
  "EncryptionType": 3
}
```

**Encryption Types**:

| Value | Algorithm | Description |
|-------|-----------|-------------|
| `1` | AES128 | 128-bit AES encryption |
| `2` | AES256 | 256-bit AES encryption |
| `3` | ChaCha20 | ChaCha20-Poly1305 (recommended) |

**Default**: `3` (ChaCha20)

### Example: AES256

```json
{
  "EncryptionType": 2
}
```

---

# Connection Behavior

Configure auto-connection and reconnection settings.

### Configuration

```json
{
  "AutoConnect": false,
  "AutoReconnect": true,
  "RequestVPNPorts": true,
  "KillSwitch": true
}
```

**Fields**:

| Field | Type | Description | Default |
|-------|------|-------------|---------|
| `AutoConnect` | bool | Auto-connect on startup | `false` |
| `AutoReconnect` | bool | Auto-reconnect on disconnection | `true` |
| `RequestVPNPorts` | bool | Request port range from server for NAT | `true` |
| `KillSwitch` | bool | Block internet if tunnel disconnects | `true` |

**Behavior Details**:

```md
- `AutoConnect: true` - Tunnel connects automatically on client startup (IoT/headless)
- `AutoReconnect: true` - Reconnects if ping timeout exceeds 60 seconds
- `RequestVPNPorts: true` - Server allocates port range for port forwarding
- `KillSwitch: true` - Blocks traffic if tunnel disconnects (prevents leaks)
```

### Example: IoT Device

```json
{
  "AutoConnect": true,
  "AutoReconnect": true,
  "RequestVPNPorts": false,
  "KillSwitch": true
}
```

### Example: Desktop/Laptop

```json
{
  "AutoConnect": false,
  "AutoReconnect": true,
  "RequestVPNPorts": true,
  "KillSwitch": true
}
```

---

# NAT Configuration

Configure localhost NAT for LAN access.

### Configuration

```json
{
  "LocalhostNat": false
}
```

**Values**:

```md
- `false` - Standard routing (default)
- `true` - Enable localhost NAT (IoT tunnels)
```

**Default**: `false`

**Use Case**: IoT tunnels use `LocalhostNat: true` to route traffic through localhost for LAN device access.

### Example: IoT Configuration

```json
{
  "LocalhostNat": true,
  "EnableDefaultRoute": false
}
```

---

# Firewall & Access Control

Configure VPL (Virtual Private LAN) firewall rules.

### Configuration

```json
{
  "AllowedHosts": ["192.168.1.1", "example.com"],
  "DisableFirewall": false
}
```

**Fields**:

| Field | Type | Description | Default |
|-------|------|-------------|---------|
| `AllowedHosts` | []string | List of allowed hosts/IPs | `null` |
| `DisableFirewall` | bool | Disable VPL firewall rules | `false` |

**AllowedHosts Format**:

```md
- IP addresses: `"192.168.1.1"`, `"10.0.0.50"`
- Hostnames: `"example.com"`, `"api.internal"`
- Empty array or `null` allows all hosts
```

### Example: Restricted Access

```json
{
  "AllowedHosts": [
    "192.168.1.1",
    "192.168.1.50",
    "api.internal.com"
  ],
  "DisableFirewall": false
}
```

### Example: Unrestricted Access

```json
{
  "AllowedHosts": null,
  "DisableFirewall": true
}
```

---

# Windows Configuration

Windows-specific tunnel interface GUID.

### Configuration

```json
{
  "WindowsGUID": "{E451BD6C-1623-4E99-9CF1-2392BC655EC8}"
}
```

**Format**: GUID in `{XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX}` format

**Default**: Auto-generated on tunnel creation

**Note**: This field is automatically managed by the client. Manual modification is not recommended.

---

# Complete Configuration Examples

### Standard Desktop/Laptop Tunnel

```json
{
  "ServerID": "68320c5943239f6fd6da5cba",
  "Tag": "tunnels",
  "IFName": "tunnels",
  "WindowsGUID": "{E451BD6C-1623-4E99-9CF1-2392BC655EC8}",
  "IPv4Address": "172.22.22.1",
  "IPv6Address": "fd00:1234:5678::1",
  "NetMask": "255.255.255.255",
  "MTU": 1420,
  "TxQueueLen": 2000,
  "EncryptionType": 3,
  "AutoConnect": false,
  "AutoReconnect": true,
  "RequestVPNPorts": true,
  "KillSwitch": true,
  "LocalhostNat": false,
  "DNSBlocking": true,
  "AllowedHosts": null,
  "DisableFirewall": false,
  "EnableDefaultRoute": true
}
```

### IoT Device Tunnel

```json
{
  "ServerID": "68320c5943239f6fd6da5cba",
  "Tag": "iot-sensor",
  "IFName": "iot-sensor",
  "WindowsGUID": "{A451BD6C-1623-4E99-9CF1-2392BC655EC8}",
  "IPv4Address": "172.22.22.2",
  "IPv6Address": "fd00:abcd:1234::1",
  "NetMask": "255.255.255.255",
  "MTU": 1320,
  "TxQueueLen": 2000,
  "EncryptionType": 3,
  "AutoConnect": true,
  "AutoReconnect": true,
  "RequestVPNPorts": false,
  "KillSwitch": true,
  "LocalhostNat": true,
  "DNSBlocking": true,
  "AllowedHosts": ["192.168.1.1", "192.168.1.50"],
  "DisableFirewall": false,
  "EnableDefaultRoute": false
}
```

### Office/Enterprise Tunnel

```json
{
  "ServerID": "68320c5943239f6fd6da5cba",
  "Tag": "office",
  "IFName": "office",
  "WindowsGUID": "{C451BD6C-1623-4E99-9CF1-2392BC655EC8}",
  "IPv4Address": "10.0.0.1",
  "IPv6Address": "",
  "NetMask": "255.255.255.0",
  "MTU": 1420,
  "TxQueueLen": 2000,
  "EncryptionType": 2,
  "AutoConnect": false,
  "AutoReconnect": true,
  "RequestVPNPorts": true,
  "KillSwitch": true,
  "LocalhostNat": false,
  "DNSBlocking": false,
  "AllowedHosts": null,
  "DisableFirewall": false,
  "EnableDefaultRoute": false
}
```

---

# Configuration Location

Tunnel configurations are stored in JSON format:

```md
- Linux/macOS: `~/.tunnels/tunnels/<Tag>.conf`
- Windows: `%APPDATA%\tunnels\tunnels\<Tag>.conf`
- Default filename: `tunnels.conf`
```

To edit tunnel configuration:

```bash
# Edit default tunnel configuration
nano ~/.tunnels/tunnels/tunnels.conf

# Or custom tunnel
nano ~/.tunnels/tunnels/office.conf

# Restart the tunnel to apply changes
systemctl restart tunnels
```

---

# Field Dependencies

Important relationships between configuration fields:

**IoT Tunnel Constraints**:

```md
- `AutoConnect: true` + `AutoReconnect: true` (required)
- `RequestVPNPorts: false` (no port forwarding)
- `LocalhostNat: true` (localhost routing)
- `EnableDefaultRoute: false` (selective routing)
- `MTU: 1320` (lower for mobile networks)
```

**Kill Switch Behavior**:

```md
- `KillSwitch: true` + `AutoReconnect: false` → Blocks all traffic on disconnect
- `KillSwitch: true` + `AutoReconnect: true` → Blocks traffic until reconnected
- `KillSwitch: false` → Uses default gateway on disconnect
```

**Firewall Rules**:

```md
- `DisableFirewall: false` + `AllowedHosts: null` → All hosts allowed
- `DisableFirewall: false` + `AllowedHosts: [...]` → Only listed hosts allowed
- `DisableFirewall: true` → No firewall restrictions
```